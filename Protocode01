#include <iostream>
#include <stdlib.h>
#include <conio.h>                                \\clrscr()
using namespace std;

class table
  {private:
   int r;                                   \\number of rows
   int c;                                    \\number of columns
   int n;                                     \\number of mines
   int sweepcount;                             \\for win calculation
   int flags;                                   \\flag count
   bool loss;                                    \\lost r won
   int vis[r][c];                                 \\what can be shown to the player
   int num[r][c];                                  \\number on that tile
   bool mine[r][c];                                 \\is the mine present r absent
   bool flag[r][c];                                  \\flags placed by the player
   bool qmark[r][c];                                  \\qmark placed by the player

   public:
   table(int r1, int c1)
   {  
      int x,y;
      r=c=10; n=sweepcount=15;
      flags=0;
      loss=0;
      for (int i=0; i<r; i++)
        for (int j=0; j<c; j++)
          {vis[i][j]=num[i][j]=0;
           mine[i][j]=flag[i][j]=qmark[i][j]=0;
          }
      
      mine[r1][c1]=!mine[r1][c1];
      
      for (int i=0; i<n;)
        {x=rand()%r;
         y=rand()%c;
         if (mine[x][y]) 
          {i++;
           mine[x][y]=!mine[x][y];
           num[x][y]=-1;
           if (x+1<r && y+1<c && num[x+1][y+1]!=-1) {num[x+1][y+1]++;}
           if (x-1>0 && y+1<c && num[x-1][y+1]!=-1) {num[x-1][y+1]++;}
           if (x+1<r && y-1>0 && num[x+1][y-1]!=-1) {num[x+1][y-1]++;}
           if (x-1>0 && y-1>0 && num[x-1][y-1]!=-1) {num[x-1][y-1]++;}
           if (y+1<c && num[x][y+1]!=-1) {num[x][y+1]++;}
           if (x+1<r && num[x+1][y]!=-1) {num[x+1][y]++;}
           if (x-1>0 && num[x-1][y]!=-1) {num[x-1][y]++;}
           if (y-1<c && num[x][y-1]!=-1) {num[x][y-1]++;}
           }
         }
         
      void sweeper(int x, int y)
        {
           if(mine[x][y]) loss=!loss;
           else
             {
              
             }
        }
      
   }
   
   
